# ADR 0004: サービス提供形態としてWebアプリケーションを採用

*   **Status**: Accepted
*   **Date**: 2025-04-20
*   **Deciders**: (議論参加者)

## Context and Problem Statement

「記念日プレゼント予約・配送サービス」をどのような形態でユーザーに提供するかを決定する必要がある。主な選択肢として、Webアプリケーション、モバイルアプリケーション（iOS/Androidネイティブ）、デスクトップアプリケーションなどが考えられる。

## Decision Drivers

*   **ターゲットユーザーへのリーチ**: 定義されたペルソナ（PCとスマホの両方を利用）に適切にサービスを提供したい。
*   **開発効率とスピード**: プロジェクトの初期段階であり、サンプルとしての側面も持つため、効率的に開発を進めたい。
*   **運用・保守の容易性**: デプロイやアップデートのプロセスをシンプルに保ちたい。
*   **機能要件との整合性**: MVP（Minimum Viable Product）および将来的な機能（通知など）を実現できる形態を選びたい。

## Considered Options

1.  **Webアプリケーション**: ブラウザを通じてアクセスする形態。レスポンシブデザインによりマルチデバイス対応が可能。
    *   Pros: 開発・デプロイが比較的容易、プラットフォーム非依存、URLによるアクセス容易性、PWAによる機能拡張の可能性。
    *   Cons: ネイティブ機能（高度なプッシュ通知、オフライン機能など）の利用に制限、アプリストアでの発見性は低い。
2.  **モバイルアプリケーション (ネイティブ)**: iOS/Androidそれぞれのプラットフォーム向けに開発。
    *   Pros: OS機能（プッシュ通知、バックグラウンド処理、オフラインストレージなど）を最大限活用可能、アプリストアでの発見性。
    *   Cons: 開発・保守コストが高い（プラットフォームごと）、アプリストアの審査・公開プロセスが必要。
3.  **デスクトップアプリケーション**: 特定のOS（Windows, macOSなど）向けに開発。
    *   Cons: ペルソナの利用シーン（スマホ利用が多い）との整合性が低い、開発・配布の手間。

## Decision Outcome

**選択肢1「Webアプリケーション」を採用する。**

理由:
*   定義されたペルソナはPC・スマホ双方を利用するため、レスポンシブ対応のWebアプリケーションであれば、単一のコードベースで両方のユーザー層にリーチできる。
*   モバイルアプリと比較して、開発・デプロイ・運用のコストや複雑性が低い。サンプルプロジェクトという特性も考慮すると、開発スピードを重視するのが合理的。
*   通知機能は必須だが、初期はメール通知で代替可能であり、将来的にはWeb PushやPWA化による強化も検討できるため、現時点でネイティブアプリの必要性は低い。
*   オフライン機能の優先度は現時点では高くない。
*   PWA (Progressive Web Apps) 化の選択肢を残すことで、将来的にアプリに近い体験を提供することも可能。

## Consequences

### Positive:
*   単一のコードベースでマルチデバイス（PC、スマホ、タブレット）に対応できる。
*   開発・デプロイプロセスが比較的シンプルになる。
*   ユーザーはアプリをインストールすることなく、ブラウザからすぐに利用開始できる。

### Negative:
*   モバイルOSのネイティブ機能を最大限に活用することはできない。
*   アプリストア経由でのユーザー獲得はできない。
*   (将来的にPWAを採用しない場合) オフライン利用や高度なプッシュ通知の実現には制限がある。

## References

*   `docs/product/personas.md` 