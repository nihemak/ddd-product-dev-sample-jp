# イテレーション 2025-W19 バックログ

- **期間:** 2025-05-04 - 2025-05-10
- **ゴール:** 「プレゼント予約」画面を例として、Storybook と Markdown による画面仕様定義プロセスを確立する。併せて、フロントエンドの基本的なアーキテクチャ方針とテスト戦略を決定する。

## タスクリスト (優先度順)

1. [x] `docs(architecture): フロントエンドのアーキテクチャ方針を決定し、ADRとして記録する` _(Ref: technical_tasks.md#アーキテクチャ・技術選定)_
2. [x] `docs(ui): 「プレゼント予約（発送代行）」画面の仕様（画面定義・主要コンポーネント）をドキュメント化する (Storybook+MD)` _(Ref: technical_tasks.md#開発プロセス・ドキュメント, user_story_mapping.md#バックボーン-プレゼント予約を行う発送代行)_
3. [x] `chore(dev-env): 開発環境を Dev Container に移行する` _(Ref: technical_tasks.md#環境構築・CI/CD)_
4. [x] `feat(frontend): 「プレゼント予約（発送代行）」画面の基本UIコンポーネントを Storybook に作成する (shadcn/ui 活用)` _(DatePicker まで完了。Dev Container 導入後に再開)_
    - **ゴール:** `docs/ui/present-reservation-shipping-proxy.md` の「4. コンポーネント詳細と振る舞い」記載の基本 UI コンポーネントについて、React コンポーネント(`.tsx`)と Storybook ストーリー(`.stories.tsx`)を作成し、Storybook 上で個別に表示・確認できる状態にする。
    - **スコープ外:** 画面全体のレイアウト構築、API 連携、複雑な状態管理。
    - **サブタスク:**
        - [x] `Select` コンポーネント (`届け先選択`) の作成と Storybook ストーリー作成・確認。
        - [x] `DatePicker` コンポーネント (`記念日入力`) の作成と Storybook ストーリー作成・確認。 _(前回完了済み)_
        - [x] `Textarea` コンポーネント (`メッセージ入力`, `プレゼント情報 (特記事項)`) の作成と Storybook ストーリー作成・確認。
        - [x] `Input` コンポーネント (`プレゼント情報 (品名/内容)`) の Storybook ストーリー作成・確認 (既存 `shadcn/ui` 利用)。
        - [x] `Button` コンポーネント (`予約確定ボタン`, `キャンセルボタン`) の Storybook ストーリー作成・確認 (既存 `shadcn/ui` 利用、状態含む)。
    _(Ref: docs/ui/present-reservation-shipping-proxy.md#4-コンポーネント詳細と振る舞い, docs/requirements/user_story_mapping.md#バックボーン-プレゼント予約を行う発送代行)_
5. [ ] `docs(ui): 「プレゼント予約（発送代行）」画面のレイアウト確認用 Storybook ストーリーを作成する`
    - **ゴール:** Task4 で作成した基本 UI コンポーネントを仮に組み合わせ、画面全体のレイアウト構成を Storybook 上で視覚的に確認できるようにする。
    - **スコープ外:** 機能ロジックの実装。
    _(Ref: docs/ui/present-reservation-shipping-proxy.md#3-レイアウト・構成)_
6. [ ] `docs(testing): フロントエンドのユニットテスト戦略・ツールを決定する (Jest/RTL?)` _(Ref: technical_tasks.md#開発プロセス・ドキュメント)_
7. [ ] `docs(testing): フロントエンドのE2Eテスト戦略・ツールを選定する (Playwright/Cypress?)` _(Ref: technical_tasks.md#開発プロセス・ドキュメント)_
8. [ ] `feat(frontend): フロントエンドからバックエンドのヘルスチェックAPIを呼び出すサンプルページ/コンポーネントを実装する` _(Ref: backend/src/routes/health_check.rs)_

## イテレーション間活動記録 (任意)

- (前のイテレーション終了後、今回の計画開始までに実施したこと。例: 技術タスク消化、ドキュメント整理、学習など)

---

## _(イテレーション完了時に以下を確認・記入)_

## レビューまとめ

- **イテレーションゴール達成度:** (達成 / 一部達成 / 未達)
  - 目標: (計画時のゴールを再掲)
  - 結果: (達成状況を具体的に記述)
- **完了した主要タスク/成果物:**
  - (完了したタスクリスト No. や主要な成果物を記載)
- **特記事項・次への影響:**
  - (予定外の作業、発生した課題、次のイテレーションへの申し送り事項など)

## イテレーション完了時チェックリスト

- [ ] **技術タスク同期:** イテレーション中に発生/完了した技術タスクは `docs/technical_tasks.md` に反映したか？
- [ ] **ドメイン知識同期:**
  - [ ] 新しい用語や定義、ルールの変更は `docs/domain/ubiquitous-language.md` に反映したか？
  - [ ] ドメインモデルの構造に変更はあったか？ あれば `docs/domain/domain-model.md` に反映したか？
- [ ] **その他ドキュメント同期:**
  - [ ] プロジェクト概要や使い方に変更はあったか？ あれば `README.md` に反映したか？
  - [ ] 開発プロセスやガイドラインに変更はあったか？ あれば関連ドキュメント (`docs/process/`, `docs/PRODUCT_DEVELOPMENT_GUIDE.md` など) に反映したか？
  - [ ] プロダクト定義 (`docs/product/`) や要求定義 (`docs/requirements/`) に影響する変更はなかったか？ (あれば更新 or 次期タスク化)
- [ ] **ADR 同期:** 新たなアーキテクチャ決定は ADR (`docs/architecture/adr/`) として記録したか？
- [ ] **DB スキーマ同期:** (DB 変更があった場合) `docs/db/schema.sql` 及び `docs/db/er-diagram.md` は最新の状態か？ マイグレーションファイルは作成/適用済みか？

## 振り返り (Retrospective)

- **Keep (良かったこと):**
  - [ ]
- **Problem (問題点・課題):**
  - [ ]
- **Try (次に試すこと):**
  - [ ]
- **戦略への示唆 (任意):**
  - [ ] 今回の学びや課題から、プロダクト戦略/ロードマップ (`docs/product/`) の見直しに繋がりそうな点はあったか？ (あれば戦略レビューのインプット候補)
  - [ ] 次回の戦略レビューに向けて、意識的に収集・観察すべきデータやユーザーの声は何か？
