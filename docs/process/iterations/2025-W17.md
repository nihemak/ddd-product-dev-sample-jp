# イテレーション 2025-W17 バックログ

*   **期間:** 2025-04-22 - 2025-04-28
*   **ゴール:** 既存のサンプル実装 (注文ドメイン) を整理・リファクタリングし、認証不要な**「注文詳細取得API」**を実装する。CI パイプラインを構築し、テーブル設計記録方法と DB マイグレーションプロセスを確立する。

## タスクリスト (優先度順)

1.  [x] `docs(chore): 既存の技術選定・決定事項を関連ドキュメント(ADR, README等)に反映・整理する`
2.  [x] `docs(process): テーブル設計（データモデリング）の記録方法を決定する` (ADR or Doc) *(Ref: technical_tasks.md#開発プロセス・ドキュメント)*
    *   **決定:** スキーマ定義は `docs/db/schema.sql` (DDL形式) で管理し、主要な関連性は `docs/db/er-diagram.md` (Mermaid) で補足する。マイグレーションは別途ツール (`sqlx-cli` 予定) で管理する。
3.  [ ] `feat(db): DBマイグレーションツール(sqlx-cli?)を導入し、`orders` テーブル (サンプル準拠 or 新規) のマイグレーションを作成する`
4.  [ ] `refactor(sample): main.rs のサンプル注文ロジックを削除し、API実装の準備をする` *(Ref: technical_tasks.md#実装・リファクタリング)*
5.  [ ] `feat(infra): 注文リポジトリの DB 実装 (`Postgres注文Repository`) を作成し、DIコンテナ (main.rs) で利用可能にする`
6.  [ ] `feat(application): 注文詳細取得ユースケースを実装 (または既存をAPI向けに整理)`
7.  [ ] `feat(api): 認証不要な「注文詳細取得API」 (例: `/api/v1/orders/{order_id}`) を実装する`
8.  [ ] `test(api): 注文詳細取得APIのエンドポイントテストを追加する`
9.  [ ] `docs(api): 注文詳細取得APIをOpenAPIドキュメントに追加する`
10. [ ] `chore(ci): GitHub Actions等で基本的なCIパイプライン(fmt, clippy, test)を構築する` *(Ref: technical_tasks.md#環境構築・CI/CD)*
11. [ ] `docs(adr): ADR 0001 (オニオンアーキテクチャ) の内容を現状に合わせて見直す` *(Ref: technical_tasks.md#開発プロセス・ドキュメント)*
12. [ ] `docs(adr): ADR 0002 (mockall採用) の内容を現状に合わせて見直す` *(Ref: technical_tasks.md#開発プロセス・ドキュメント)*

## 振り返り (Retrospective)

*   **Keep (良かったこと):**
    *   [ ]
*   **Problem (問題点・課題):**
    *   [ ]
*   **Try (次に試すこと):**
    *   [ ] 